

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Stack Config &mdash; Sceptre 4.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Templates" href="templates.html" />
    <link rel="prev" title="StackGroup Config" href="stack_group_config.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Sceptre
          

          
          </a>

          
            
            
              <div class="version">
                dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="stack_group_config.html">StackGroup Config</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Stack Config</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#structure">Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#template-path">template_path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#template">template</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hooks">hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ignore">ignore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notifications">notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#obsolete">obsolete</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-failure">on_failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disable-rollback">disable_rollback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protected">protected</a></li>
<li class="toctree-l3"><a class="reference internal" href="#role-arn">role_arn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cloudformation-service-role">cloudformation_service_role</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iam-role">iam_role</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sceptre-role">sceptre_role</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iam-role-session-duration">iam_role_session_duration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sceptre-role-session-duration">sceptre_role_session_duration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sceptre-user-data">sceptre_user_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stack-name">stack_name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stack-tags">stack_tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stack-timeout">stack_timeout</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cascading-config">Cascading Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="#templating">Templating</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stackgroup-config">StackGroup config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Sceptre User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resolution-order-of-values">Resolution order of values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#render-time-vs-resolve-time">“Render Time” vs. “Resolve Time”</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-resolved-values-in-other-fields">Accessing resolved values in other fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="template_handlers.html">Template Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="resolvers.html">Resolvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecting Sceptre</a></li>
<li class="toctree-l1"><a class="reference internal" href="permissions.html">Sceptre and IAM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/modules.html">sceptre</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sceptre</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Stack Config</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/docs/stack_config.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stack-config">
<h1>Stack Config<a class="headerlink" href="#stack-config" title="Permalink to this heading">¶</a></h1>
<p>A Stack config stores configurations related to a particular Stack, such as the path to
that Stack’s Template, and any parameters that Stack may require. Many of these configuration keys
support resolvers and can be inherited from parent StackGroup configs.</p>
<div class="section" id="structure">
<span id="stack-config-structure"></span><h2>Structure<a class="headerlink" href="#structure" title="Permalink to this heading">¶</a></h2>
<p>A Stack config file is a <code class="docutils literal notranslate"><span class="pre">yaml</span></code> object of key-value pairs configuring a
particular Stack. The available keys are listed below.</p>
<ul class="simple">
<li><p><a class="reference external" href="#template-path">template_path</a> or <a class="reference external" href="#template">template</a> <em>(required)</em></p></li>
<li><p><a class="reference external" href="#dependencies">dependencies</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#hooks">hooks</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#ignore">ignore</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#notifications">notifications</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#obsolete">obsolete</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#on-failure">on_failure</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#disable-rollback">disable_rollback</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#parameters">parameters</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#protected">protected</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#role-arn">role_arn</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#cloudformation-service-role">cloudformation_service_role</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#iam-role">iam_role</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#sceptre-role">sceptre_role</a> (<em>optional)</em></p></li>
<li><p><a class="reference internal" href="#iam-role-session-duration">iam_role_session_duration</a> <em>(optional)</em></p></li>
<li><p><a class="reference internal" href="#sceptre-role-session-duration">sceptre_role_session_duration</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#sceptre-user-data">sceptre_user_data</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#stack-name">stack_name</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#stack-tags">stack_tags</a> <em>(optional)</em></p></li>
<li><p><a class="reference external" href="#stack-timeout">stack_timeout</a> <em>(optional)</em></p></li>
</ul>
<p>It is not possible to define both <a class="reference external" href="#template-path">template_path</a> and <a class="reference external" href="#template">template</a>. If you do so,
you will receive an error when deploying the stack.</p>
<div class="section" id="template-path">
<h3>template_path<a class="headerlink" href="#template-path" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: No</p></li>
</ul>
<p>The path to the CloudFormation, Jinja2 or Python template to build the Stack
from. The path can either be absolute or relative to the Sceptre Directory.
Sceptre treats the template as CloudFormation, Jinja2 or Python depending on
the template’s file extension. Note that the template filename may be different
from the Stack config filename.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This key is deprecated in favor of the <a class="reference external" href="#template">template</a> key. It will be removed in version 5.0.0.</p>
</div>
</div>
<div class="section" id="template">
<h3>template<a class="headerlink" href="#template" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: No</p></li>
</ul>
<p>Configuration for a template handler. Template handlers can take in parameters
and resolve that to a CloudFormation template. This enables you to not only
load templates from disk, but also from third-party storage or AWS services.</p>
<p>Example for loading from S3 bucket:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">template</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">infra-templates/s3/v1/bucket.yaml</span>
<span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;parameter1_name&gt;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="nt">sceptre_user_data</span><span class="p">:</span>
</pre></div>
</div>
<p>It is possible to write your own template handlers should you need to. You
can find a list of currently supported template handlers and guidance for
developing your own in the <a class="reference internal" href="template_handlers.html"><span class="doc">Template Handlers</span></a> section.</p>
</div>
<div class="section" id="dependencies">
<h3>dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Appended to parent’s dependencies</p></li>
</ul>
<p>A list of other Stacks in the environment that this Stack depends on. Note that
if a Stack fetches an output value from another Stack using the
<code class="docutils literal notranslate"><span class="pre">stack_output</span></code> resolver, that Stack is automatically added as a dependency,
and that Stack need not be added as an explicit dependency.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be careful about how you structure dependencies. It is possible to create circular
dependencies accidentally, where multiple stacks depend on each other. Sceptre
will detect this and raise an error, blocking this sort of setup. You must be especially careful
when specifying <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> on a StackGroup config. These dependencies will then be
“inherited” by every stack within that StackGroup. If one of those dependencies <em>inherits</em> that
list of dependencies, it will cause a circular dependency. If this happens, you can resolve the
situation by either (a) setting those <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> on individual Stack Configs rather than the
the StackGroup Config, or (b) moving those dependency stacks outside of the StackGroup.</p>
</div>
</div>
<div class="section" id="hooks">
<h3>hooks<a class="headerlink" href="#hooks" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No (but you can use resolvers _in_ hook arguments!)</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>A list of arbitrary shell or Python commands or scripts to run. Find out more
in the <a class="reference internal" href="hooks.html"><span class="doc">Hooks</span></a> section.</p>
</div>
<div class="section" id="ignore">
<h3>ignore<a class="headerlink" href="#ignore" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This configuration should be set with a boolean value of <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>. By default, this is
set to <code class="docutils literal notranslate"><span class="pre">False</span></code> on all stacks.</p>
<p><code class="docutils literal notranslate"><span class="pre">ignore</span></code> determines how the stack should be handled when running <code class="docutils literal notranslate"><span class="pre">sceptre</span> <span class="pre">launch</span></code>. A stack
marked with <code class="docutils literal notranslate"><span class="pre">ignore:</span> <span class="pre">True</span></code> will be completely ignored by the launch command. If the stack does NOT
exist on AWS, it won’t be created. If it <em>DOES</em> exist, it will neither be updated nor deleted.</p>
<p>You <em>can</em> mark a stack with <code class="docutils literal notranslate"><span class="pre">ignore:</span> <span class="pre">True</span></code> that other non-ignored stacks depend on, but the launch
will fail if dependent stacks require resources or outputs that don’t exist because the stack has not been
launched. <strong>Therefore, only ignore dependencies of other stacks if you are aware of the risks of
launch failure.</strong></p>
<p>This setting can be especially useful when combined with Jinja logic to exclude certain stacks from
launch based upon conditional Jinja-based template logic.</p>
<p>For Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>template:
    path: &quot;my/test/resources.yaml&quot;

# Configured this way, if the var &quot;use_test_resources&quot; is not true, the stack will not be launched
# and instead excluded from the launch. But if &quot;use_test_resources&quot; is true, the stack will be
# deployed along with the rest of the resources being deployed.
{% if not var.use_test_resources %}
ignore: True
{% endif %}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ignore</span></code> configuration <strong>only</strong> applies to the <strong>launch</strong> command. You can still run
<code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code>, or <code class="docutils literal notranslate"><span class="pre">delete</span></code> commands on a stack marked with <code class="docutils literal notranslate"><span class="pre">ignore:</span> <span class="pre">True</span></code>;
these commands will ignore the <code class="docutils literal notranslate"><span class="pre">ignore</span></code> setting and act upon the stack the same as any other.</p>
</div>
</div>
<div class="section" id="notifications">
<h3>notifications<a class="headerlink" href="#notifications" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>List of SNS topic ARNs to publish Stack related events to. A maximum of 5 ARNs
can be specified per Stack. This configuration will be used by the <code class="docutils literal notranslate"><span class="pre">create</span></code>,
<code class="docutils literal notranslate"><span class="pre">update</span></code>, and <code class="docutils literal notranslate"><span class="pre">delete</span></code> commands. More information about Stack notifications
can found under the relevant section in the <a class="reference external" href="http://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html">AWS CloudFormation API
documentation</a>.</p>
</div>
<div class="section" id="obsolete">
<span id="id1"></span><h3>obsolete<a class="headerlink" href="#obsolete" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This configuration should be set with a boolean value of <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>. By default, this is
set to <code class="docutils literal notranslate"><span class="pre">False</span></code> on all stacks.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">obsolete</span></code> configuration should be used to mark stacks to be deleted via <code class="docutils literal notranslate"><span class="pre">prune</span></code> actions,
if they currently exist on AWS. (If they don’t exist on AWS, pruning does nothing).</p>
<p>There are two ways to prune obsolete stacks:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sceptre</span> <span class="pre">prune</span></code> will delete <em>all</em> obsolete stacks in the <strong>project</strong>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sceptre</span> <span class="pre">launch</span> <span class="pre">--prune</span> <span class="pre">[command</span> <span class="pre">path]</span></code> will delete all obsolete stacks in the command path
before continuing with the launch.</p></li>
</ol>
<p>In practice, the <code class="docutils literal notranslate"><span class="pre">obsolete</span></code> configuration operates identically to <code class="docutils literal notranslate"><span class="pre">ignore</span></code> with the extra prune
effects. When the <code class="docutils literal notranslate"><span class="pre">launch</span></code> command is invoked without the <code class="docutils literal notranslate"><span class="pre">--prune</span></code> flag, obsolete stacks will
be ignored and not launched, just as if <code class="docutils literal notranslate"><span class="pre">ignore:</span> <span class="pre">True</span></code> was on the Stack Config.</p>
<p><strong>Important</strong>: You cannot have non-obsolete stacks dependent upon obsolete stacks. Both the
<code class="docutils literal notranslate"><span class="pre">prune</span></code> and <code class="docutils literal notranslate"><span class="pre">launch</span> <span class="pre">--prune</span></code> will reject such configurations and will not continue if this sort
of dependency structure is detected. Only obsolete stacks can depend on obsolete stacks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">obsolete</span></code> configuration <strong>only</strong> applies to the <strong>launch</strong> and <strong>prune</strong> commands. You can
still run <code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code>, or <code class="docutils literal notranslate"><span class="pre">delete</span></code> commands on a stack marked with <code class="docutils literal notranslate"><span class="pre">obsolete:</span> <span class="pre">True</span></code>;
these commands will ignore the <code class="docutils literal notranslate"><span class="pre">obsolete</span></code> setting and act upon the stack the same as any other.</p>
</div>
</div>
<div class="section" id="on-failure">
<h3>on_failure<a class="headerlink" href="#on-failure" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This parameter describes the action taken by CloudFormation when a Stack fails
to create. For more information and valid values see the <a class="reference external" href="http://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html">AWS Documentation</a>.</p>
<p>Examples include:</p>
<p><code class="docutils literal notranslate"><span class="pre">on_failure:</span> <span class="pre">&quot;DO_NOTHING&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">on_failure:</span> <span class="pre">&quot;ROLLBACK&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">on_failure:</span> <span class="pre">&quot;DELETE&quot;</span></code></p>
</div>
<div class="section" id="disable-rollback">
<h3>disable_rollback<a class="headerlink" href="#disable-rollback" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This parameter describes the action taken by CloudFormation when a Stack fails
to create or update, default is False. This option can be set from the stack
config or from the Sceptre CLI commands to deploy stacks. The disable_rollback
CLI option (i.e. sceptre launch –disable-rollback) disables cloudformation
rollback globally for all stacks. This option overrides on_failure since
Cloudformation does not allow setting both on deployment. For more information
and valid values see the <a class="reference external" href="http://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html">AWS Documentation</a>.</p>
<p>Examples:</p>
<p><code class="docutils literal notranslate"><span class="pre">disable_rollback:</span> <span class="pre">&quot;True&quot;</span></code></p>
</div>
<div class="section" id="parameters">
<h3>parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Sensitive data such as passwords or secret keys should not be stored in
plaintext in Stack config files. Instead, they should be passed in from the
CLI with User Variables, or set via an environment variable with the
environment variable resolver.</p>
</div>
<p>A dictionary of key-value pairs to be supplied to a template as parameters. The
keys must match up with the name of the parameter, and the value must be of the
type as defined in the template.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that Boto3 throws an exception if parameters are supplied to a template
that are not required by that template. Resolvers can be used to add
functionality to this key. Find out more in the <a class="reference internal" href="resolvers.html"><span class="doc">Resolvers</span></a> section.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case the same parameter key is supplied more than once, the last
definition silently overrides the earlier definitions.</p>
</div>
<p>A parameter can be specified either as a single value/resolver or a list of
values/resolvers. Lists of values/resolvers will be formatted into an AWS
compatible comma separated string e.g. <code class="docutils literal notranslate"><span class="pre">value1,value2,value3</span></code>. Lists can
contain a mixture of values and resolvers.</p>
<p>Syntax:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">&lt;parameter1_name&gt;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="w">  </span><span class="nt">&lt;parameter2_name&gt;</span><span class="p">:</span><span class="w"> </span><span class="kt">!&lt;resolver_name&gt;</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;resolver_value&gt;</span>
<span class="w">  </span><span class="nt">&lt;parameter3_name&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;value1&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;value2&quot;</span>
<span class="w">  </span><span class="nt">&lt;parameter4_name&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!&lt;resolver_name&gt;</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;resolver_value&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!&lt;resolver_name&gt;</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;resolver_value&gt;</span>
<span class="w">  </span><span class="nt">&lt;parameter5_name&gt;</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!&lt;resolver_name&gt;</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;resolver_value&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;value1&quot;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">database_username</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mydbuser&quot;</span>
<span class="w">  </span><span class="nt">database_password</span><span class="p">:</span><span class="w"> </span><span class="kt">!environment_variable</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DATABASE_PASSWORD</span>
<span class="w">  </span><span class="nt">subnet_ids</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;subnet-12345678&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;subnet-87654321&quot;</span>
<span class="w">  </span><span class="nt">security_group_ids</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;sg-12345678&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!stack_output</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security-groups.yaml::BaseSecurityGroupId</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!file_contents</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/file/with/security_group_id.txt</span>
</pre></div>
</div>
</div>
<div class="section" id="protected">
<h3>protected<a class="headerlink" href="#protected" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>Stack protection against execution of the following commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">launch</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execute</span></code></p></li>
</ul>
<p>If a user tries to run one of these commands on a protected Stack, Sceptre will
throw an error.</p>
</div>
<div class="section" id="role-arn">
<h3>role_arn<a class="headerlink" href="#role-arn" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This field is deprecated as of v4.0.0 and will be removed in v5.0.0. It has been renamed to
<a class="reference internal" href="#cloudformation-service-role">cloudformation_service_role</a> as a clearer name for its purpose.</p>
</div>
</div>
<div class="section" id="cloudformation-service-role">
<h3>cloudformation_service_role<a class="headerlink" href="#cloudformation-service-role" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>The ARN of a <a class="reference external" href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-servicerole.html">CloudFormation Service Role</a> that is assumed by <em>CloudFormation</em> (not Sceptre)
to create, update or delete resources. For more information on this configuration, its implications,
and its uses see <a class="reference internal" href="permissions.html#cloudformation-service-role-permissions"><span class="std std-ref">Sceptre and IAM: cloudformation_service_role</span></a>.</p>
</div>
<div class="section" id="iam-role">
<h3>iam_role<a class="headerlink" href="#iam-role" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This field is deprecated as of v4.0.0 and will be removed in v5.0.0. It has been renamed to
<a class="reference internal" href="#sceptre-role">sceptre_role</a> as a clearer name for its purpose.</p>
</div>
</div>
<div class="section" id="sceptre-role">
<h3>sceptre_role<a class="headerlink" href="#sceptre-role" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This is the IAM Role ARN that <strong>Sceptre</strong> should <em>assume</em> using AWS STS when executing any actions
on the Stack.</p>
<p>This is different from the <code class="docutils literal notranslate"><span class="pre">cloudformation_service_role</span></code> option, which sets a CloudFormation
service role for the stack. The <code class="docutils literal notranslate"><span class="pre">sceptre_role</span></code> configuration does not configure anything on the
stack itself.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you set the value of <code class="docutils literal notranslate"><span class="pre">sceptre_role</span></code> with <code class="docutils literal notranslate"><span class="pre">!stack_output</span></code>, that <code class="docutils literal notranslate"><span class="pre">sceptre_role</span></code>
will not actually be used to obtain the stack_output, but it <em>WILL</em> be used for all subsequent stack
actions. Therefore, it is important that the user executing the stack action have permissions to get
stack outputs for the stack outputting the <code class="docutils literal notranslate"><span class="pre">sceptre_role</span></code>.</p>
</div>
<p>For more information on this configuration, its implications, and its uses, see
<a class="reference internal" href="permissions.html#sceptre-role-permissions"><span class="std std-ref">Sceptre and IAM: sceptre_role</span></a>.</p>
</div>
<div class="section" id="iam-role-session-duration">
<h3>iam_role_session_duration<a class="headerlink" href="#iam-role-session-duration" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This field is deprecated as of v4.0.0 and will be removed in v5.0.0. It has been renamed to
<a class="reference internal" href="#sceptre-role-session-duration">sceptre_role_session_duration</a> as a clearer name for its purpose.</p>
</div>
</div>
<div class="section" id="sceptre-role-session-duration">
<h3>sceptre_role_session_duration<a class="headerlink" href="#sceptre-role-session-duration" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>This is the session duration when <strong>Sceptre</strong> <em>assumes</em> the <strong>sceptre_role</strong> IAM Role using AWS STS when
executing any actions on the Stack.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you set the value of <code class="docutils literal notranslate"><span class="pre">sceptre_role_session_duration</span></code> to a number that <em>GREATER</em> than 3600, you
will need to make sure that the <code class="docutils literal notranslate"><span class="pre">sceptre_role</span></code> has a configuration of <code class="docutils literal notranslate"><span class="pre">MaxSessionDuration</span></code>, and
its value is <em>GREATER</em> than or equal to the value of <code class="docutils literal notranslate"><span class="pre">sceptre_role_session_duration</span></code>.</p>
</div>
</div>
<div class="section" id="sceptre-user-data">
<h3>sceptre_user_data<a class="headerlink" href="#sceptre-user-data" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>Represents data to be passed to the <code class="docutils literal notranslate"><span class="pre">sceptre_handler(sceptre_user_data)</span></code>
function in Python templates or accessible under <code class="docutils literal notranslate"><span class="pre">sceptre_user_data</span></code> variable
key within Jinja2 templates.</p>
</div>
<div class="section" id="stack-name">
<h3>stack_name<a class="headerlink" href="#stack-name" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: No</p></li>
</ul>
<p>A custom name to use instead of the Sceptre default.</p>
<div class="alert alert-warning docutils container">
<p>Outputs from Stacks with custom names can’t be resolved using the standard
stack output resolver. Outputs should be resolved using the stack output
external resolver. An explicit dependency should be added, using the
dependencies parameter, to make sure the Stacks are launched in the correct
order.</p>
</div>
<p>e.g:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">VpcID</span><span class="p">:</span><span class="w"> </span><span class="kt">!stack_output_external</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;custom-named-vpc-stack&gt;::VpcID</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;environment&gt;/&lt;Stack&gt;</span>
</pre></div>
</div>
<p>You can also pass an optional argument to <code class="docutils literal notranslate"><span class="pre">stack_output_external</span></code> specifying
the profile you want to use. This is especially useful if the Template you’re
referring to is in a different AWS account or region.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">VpcID</span><span class="p">:</span><span class="w"> </span><span class="kt">!stack_output_external</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;custom-named-vpc-stack&gt;::VpcID my-aws-prod-profile</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;environment&gt;/&lt;Stack&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="stack-tags">
<h3>stack_tags<a class="headerlink" href="#stack-tags" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: Yes</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>A dictionary of <a class="reference external" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_Tag.html">CloudFormation Tags</a> to be applied to the Stack.</p>
</div>
<div class="section" id="stack-timeout">
<h3>stack_timeout<a class="headerlink" href="#stack-timeout" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Resolvable: No</p></li>
<li><p>Can be inherited from StackGroup: Yes</p></li>
<li><p>Inheritance strategy: Overrides parent if set</p></li>
</ul>
<p>A timeout in minutes before considering the Stack deployment as failed. After
the specified timeout, the Stack will be rolled back. Specifiyng zero, as well
as ommiting the field, will result in no timeout. Supports only positive
integer value.</p>
</div>
</div>
<div class="section" id="cascading-config">
<h2>Cascading Config<a class="headerlink" href="#cascading-config" title="Permalink to this heading">¶</a></h2>
<p>Stack config can be cascaded in the same way StackGroup config can be, as
described in the section in StackGroup Config on
<a class="reference internal" href="stack_group_config.html#stack-group-config-cascading-config"><span class="std std-ref">Cascading Config</span></a>.</p>
</div>
<div class="section" id="templating">
<h2>Templating<a class="headerlink" href="#templating" title="Permalink to this heading">¶</a></h2>
<p>Stack config supports templating in the same way StackGroup config can be, as
described in the section in StackGroup Config on <a class="reference internal" href="stack_group_config.html#stack-group-config-templating"><span class="std std-ref">Templating</span></a>.</p>
<p>Stack config makes StackGroup config available to template.</p>
<div class="section" id="stackgroup-config">
<h3>StackGroup config<a class="headerlink" href="#stackgroup-config" title="Permalink to this heading">¶</a></h3>
<p>StackGroup config properties are available via the stack_group_config variable
when using templating.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">sceptre-project-code</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">stack_group_config.project-code</span><span class="w"> </span><span class="p p-Indicator">}}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h2>
<p>It is possible to replace values in Stack config files with environment
variables in two ways. For an explanation on why this is the case, see the
<a class="reference internal" href="faq.html#faq-stackconfig-env"><span class="std std-ref">FAQ</span></a>.</p>
</div>
<div class="section" id="id2">
<h2>Sceptre User Data<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<p>Python or Jinja templates can contain data which should be parameterised, but
can’t be parameterised using CloudFormation parameters. An example of this is
if a Python template which creates an IAM Role reads in the policy from a JSON
file. The file path must be hard-coded in the Python template.</p>
<p>Sceptre user data allows users to store arbitrary key-value pairs in their
<code class="docutils literal notranslate"><span class="pre">&lt;stack-name&gt;.yaml</span></code> file. This data is then passed as a Python <code class="docutils literal notranslate"><span class="pre">dict</span></code> to
the <code class="docutils literal notranslate"><span class="pre">sceptre_handler(sceptre_user_data)</span></code> function in Python templates.</p>
<p>Syntax:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sceptre_user_data</span><span class="p">:</span>
<span class="w">  </span><span class="nt">iam_policy_file_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/policy.json</span>
</pre></div>
</div>
<p>When compiled, <code class="docutils literal notranslate"><span class="pre">sceptre_user_data</span></code> would be the dictionary
<code class="docutils literal notranslate"><span class="pre">{&quot;iam_policy_file&quot;:</span> <span class="pre">&quot;/path/to/policy.json&quot;}</span></code>.</p>
</div>
<div class="section" id="resolution-order-of-values">
<span id="resolution-order"></span><h2>Resolution order of values<a class="headerlink" href="#resolution-order-of-values" title="Permalink to this heading">¶</a></h2>
<p>Stack Configs allow you to pull together values from a variety of sources to configure a
CloudFormation stack. These values are retrieved and applied in phases. Understanding these phases can
be very helpful when designing your Stack Configs.</p>
<p>When launching a stack (or performing other stack actions), values are gathered and accessed in this
order:</p>
<ol class="arabic">
<li><p>User variables (from <code class="docutils literal notranslate"><span class="pre">--var</span></code> and <code class="docutils literal notranslate"><span class="pre">--var-file</span></code> arguments) are gathered when the CLI first runs.</p></li>
<li><p>StackGroup Configs are read from the highest level downward, rendered with Jinja and then loaded
into yaml. The key/value pairs from these configs are layered on top of each other, with more nested
configs overriding higher-level ones. These key/value pairs will be “inherited” by the Stack
Config. These variables are made available when rendering a StackGroup Config:</p>
<ul class="simple">
<li><p>User variables (via <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">var</span> <span class="pre">}}</span></code>)</p></li>
<li><p>Environment variables (via <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">environment_variable</span> <span class="pre">}}</span></code>)</p></li>
<li><p>StackGroup configurations from <em>higher</em> level StackGroup Configs are available by name. Note:
more nested configuration values will overshadow higher-level ones by the same key.</p></li>
</ul>
</li>
<li><p>With the layered StackGroup Config variables, the Stack Config file will be read and then rendered
with Jinja. These variables are made available when the Stack Config is being rendered with Jinja:</p>
<ul class="simple">
<li><p>User variables (via <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">var</span> <span class="pre">}}</span></code>)</p></li>
<li><p>Environment variables (via <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">environment_variable</span> <span class="pre">}}</span></code>)</p></li>
<li><p>All StackGroup configurations are available by name directly as well as via <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">stack_group_config</span> <span class="pre">}}</span></code></p></li>
</ul>
<p><strong>Important:</strong> If any StackGroup configuration values were set with resolvers, accessing them via
Jinja will not resolve them, since resolvers require a Stack object, which has not yet been
assembled yet. <strong>Resolvers will not be accessible until a later phase.</strong></p>
</li>
<li><p>Once rendered via Jinja into a string, the Stack Config will be loaded into yaml. This is when the
resolver instances on the Stack config will be <strong>constructed</strong> (<em>not</em> resolved).</p></li>
<li><p>The Stack instance will be constructed with the key/value pairs from the loaded yaml layered on
top of the key/value pairs from the StackGroup configurations. This is when all resolver instances,
both those inherited from StackGroup Configs and those from the present Stack Config, will be
connected to the Stack instance and thus <em>ready</em> to be resolved.</p></li>
<li><p>The first time a resolvable configuration is <em>accessed</em> is when the resolver(s) at that
configuration will be resolved and replaced with their resolved value. This is normally done at
the very last moment, right when it is needed (and not before).</p></li>
</ol>
<div class="section" id="render-time-vs-resolve-time">
<h3>“Render Time” vs. “Resolve Time”<a class="headerlink" href="#render-time-vs-resolve-time" title="Permalink to this heading">¶</a></h3>
<p>A common point of confusion tends to be around the distinction between <strong>“render time”</strong> (phase 3, when
Jinja logic is applied) and <strong>“resolve time”</strong> (phase 6, when resolvers are resolved). You cannot use
a resolver via Jinja during “render time”, since the resolver won’t exist or be ready to use yet. You can,
however, use Jinja logic to indicate <em>whether</em>, <em>which</em>, or <em>how</em> a resolver is configured. You can
also use resolvers like <code class="docutils literal notranslate"><span class="pre">!sub</span></code> to interpolate resolved values when Jinja isn’t available.</p>
<p>For example, you <strong>can</strong> do something like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span>parameters:
  {% if var.use_my_parameter %}
    my_parameter: !stack_output {{ var.stack_name }}::{{ var.output_name }}
  {% endif %}
    # !sub will let you combine outputs of multiple resolvers into a single string
    my_combined_parameter: !sub
      - &quot;{fist_part} - {second_part}&quot;
      - first_part: !stack_output my/stack/name.yaml::Output
      - second_part: {{ var.second_part }}
</pre></div>
</div>
</div>
<div class="section" id="accessing-resolved-values-in-other-fields">
<h3>Accessing resolved values in other fields<a class="headerlink" href="#accessing-resolved-values-in-other-fields" title="Permalink to this heading">¶</a></h3>
<p>Sometimes you might want to reference the resolved value of one field in another field. Since you cannot
use Jinja to access resolved values, there is another way to this. The <a class="reference internal" href="resolvers.html#stack-attr-resolver"><span class="std std-ref">stack_attr</span></a>
resolver is meant for addressing just this need. It’s a resolver that will resolve to the value of
another Stack Config field value. See the linked documentation for more details on that resolver and
its use.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">template</span><span class="p">:</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">templates/example.py</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class="nt">parameters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">param_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value_1</span>
<span class="w">  </span><span class="nt">param_2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value_2</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">template</span><span class="p">:</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">templates/example.yaml</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev/vpc.yaml</span>
<span class="nt">hooks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">before_create</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!cmd</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">creating...&quot;</span>
<span class="w">    </span><span class="nt">after_create</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!cmd</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">created&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!cmd</span><span class="w"> </span><span class="s">&quot;echo</span><span class="nv"> </span><span class="s">done&quot;</span>
<span class="w">    </span><span class="nt">after_update</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!cmd</span><span class="w"> </span><span class="s">&quot;mkdir</span><span class="nv"> </span><span class="s">example&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="kt">!cmd</span><span class="w"> </span><span class="s">&quot;touch</span><span class="nv"> </span><span class="s">example.txt&quot;</span>
<span class="nt">parameters</span><span class="p">:</span>
<span class="w">    </span><span class="nt">param_1</span><span class="p">:</span><span class="w"> </span><span class="kt">!stack_output</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stack_name.yaml::output_name</span>
<span class="w">    </span><span class="nt">param_2</span><span class="p">:</span><span class="w"> </span><span class="kt">!stack_output_external</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">full_stack_name::output_name</span>
<span class="w">    </span><span class="nt">param_3</span><span class="p">:</span><span class="w"> </span><span class="kt">!environment_variable</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VALUE_3</span>
<span class="w">    </span><span class="nt">param_4</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">var.value4</span><span class="w"> </span><span class="p p-Indicator">}}</span>
<span class="w">    </span><span class="nt">param_5</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">command_path.3</span><span class="w"> </span><span class="p p-Indicator">}}</span>
<span class="w">    </span><span class="nt">param_6</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">environment_variable.VALUE_6</span><span class="w"> </span><span class="p p-Indicator">}}</span>
<span class="nt">sceptre_user_data</span><span class="p">:</span>
<span class="w">    </span><span class="nt">thing_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value_1</span>
<span class="w">    </span><span class="nt">thing_2</span><span class="p">:</span><span class="w"> </span><span class="kt">!file_contents</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/file.txt</span>
<span class="nt">stack_tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">tag_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value_1</span>
<span class="w">    </span><span class="nt">tag_2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value_2</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="templates.html" class="btn btn-neutral float-right" title="Templates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="stack_group_config.html" class="btn btn-neutral float-left" title="StackGroup Config" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, Cloudreach.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: dev
      <span class="fa fa-caret-down"></span>
    </span>

        <div class="rst-other-versions">
            <dl id="other-versions">
                <dt>Versions</dt>
            </dl>
            <dl>
                
                <dt>Other Links</dt>
                

                    <dd>
                        <a href="https://www.cloudreach.com">Cloudreach</a>
                    </dd>
                

                    <dd>
                        <a href="https://docs.sceptre-project.org">Sceptre Home</a>
                    </dd>
                
            </dl>
            <hr/>
            Original template provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                $.getScript("../../version-helper.js").done(
                    function () {
                        versions.forEach(function (item, index) {
                            if (item !== "dev") {
                                $('#other-versions').append('<dd><a href="'+ window.location.origin + '/' + item +'">' + item + "<a/></dd>");
                            }
                        })
                    });
            });
        </script>
    </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>